<map version="freeplane 1.8.0">
<!--To view this file, download free mind mapping software Freeplane from http://freeplane.sourceforge.net -->
<node TEXT="服务搭建与管理" FOLDED="false" ID="ID_1199348179" CREATED="1605329589907" MODIFIED="1606279468182" STYLE="wide_hexagon" UNIFORM_SHAPE="true">
<font SIZE="24" BOLD="true"/>
<hook NAME="MapStyle" zoom="0.799">
    <properties fit_to_viewport="false" edgeColorConfiguration="#808080ff,#ff0000ff,#0000ffff,#00ff00ff,#ff00ffff,#00ffffff,#7c0000ff,#00007cff,#007c00ff,#7c007cff,#007c7cff,#7c7c00ff"/>

<map_styles>
<stylenode LOCALIZED_TEXT="styles.root_node" STYLE="oval" UNIFORM_SHAPE="true" VGAP_QUANTITY="24.0 pt">
<font SIZE="24"/>
<stylenode LOCALIZED_TEXT="styles.predefined" POSITION="right" STYLE="bubble">
<stylenode LOCALIZED_TEXT="default" ICON_SIZE="12.0 pt" COLOR="#000000" STYLE="bubble" SHAPE_HORIZONTAL_MARGIN="5.0 pt" SHAPE_VERTICAL_MARGIN="3.0 pt" NUMBERED="true" BORDER_WIDTH="2.0 px">
<font NAME="微软雅黑" SIZE="12" BOLD="false" ITALIC="false"/>
<edge STYLE="horizontal"/>
</stylenode>
<stylenode LOCALIZED_TEXT="defaultstyle.details" STYLE="bubble" SHAPE_HORIZONTAL_MARGIN="5.0 pt" SHAPE_VERTICAL_MARGIN="3.0 pt"/>
<stylenode LOCALIZED_TEXT="defaultstyle.attributes" STYLE="bubble" SHAPE_HORIZONTAL_MARGIN="5.0 pt" SHAPE_VERTICAL_MARGIN="3.0 pt">
<font SIZE="9"/>
</stylenode>
<stylenode LOCALIZED_TEXT="defaultstyle.note" COLOR="#000000" BACKGROUND_COLOR="#ffffff" STYLE="bubble" SHAPE_HORIZONTAL_MARGIN="5.0 pt" SHAPE_VERTICAL_MARGIN="3.0 pt" TEXT_ALIGN="LEFT"/>
<stylenode LOCALIZED_TEXT="defaultstyle.floating">
<edge STYLE="hide_edge"/>
<cloud COLOR="#f0f0f0" SHAPE="ROUND_RECT"/>
</stylenode>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.user-defined" POSITION="right" STYLE="bubble">
<stylenode LOCALIZED_TEXT="styles.topic" COLOR="#18898b" STYLE="bubble" SHAPE_HORIZONTAL_MARGIN="5.0 pt" SHAPE_VERTICAL_MARGIN="3.0 pt">
<font NAME="Liberation Sans" SIZE="10" BOLD="true"/>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.subtopic" COLOR="#cc3300" STYLE="bubble" SHAPE_HORIZONTAL_MARGIN="5.0 pt" SHAPE_VERTICAL_MARGIN="3.0 pt">
<font NAME="Liberation Sans" SIZE="10" BOLD="true"/>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.subsubtopic" COLOR="#669900" STYLE="bubble" SHAPE_HORIZONTAL_MARGIN="5.0 pt" SHAPE_VERTICAL_MARGIN="3.0 pt">
<font NAME="Liberation Sans" SIZE="10" BOLD="true"/>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.important" STYLE="bubble" SHAPE_HORIZONTAL_MARGIN="5.0 pt" SHAPE_VERTICAL_MARGIN="3.0 pt">
<icon BUILTIN="yes"/>
</stylenode>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.AutomaticLayout" POSITION="right" STYLE="bubble">
<stylenode LOCALIZED_TEXT="AutomaticLayout.level.root" COLOR="#000000" STYLE="bubble" SHAPE_HORIZONTAL_MARGIN="5.0 pt" SHAPE_VERTICAL_MARGIN="3.0 pt">
<font SIZE="18"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,1" COLOR="#0033ff" STYLE="bubble" SHAPE_HORIZONTAL_MARGIN="5.0 pt" SHAPE_VERTICAL_MARGIN="3.0 pt">
<font SIZE="16"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,2" COLOR="#00b439" STYLE="bubble" SHAPE_HORIZONTAL_MARGIN="5.0 pt" SHAPE_VERTICAL_MARGIN="3.0 pt">
<font SIZE="14"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,3" COLOR="#990000" STYLE="bubble" SHAPE_HORIZONTAL_MARGIN="5.0 pt" SHAPE_VERTICAL_MARGIN="3.0 pt">
<font SIZE="12"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,4" COLOR="#111111" STYLE="bubble" SHAPE_HORIZONTAL_MARGIN="5.0 pt" SHAPE_VERTICAL_MARGIN="3.0 pt">
<font SIZE="10"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,5" STYLE="bubble" SHAPE_HORIZONTAL_MARGIN="5.0 pt" SHAPE_VERTICAL_MARGIN="3.0 pt"/>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,6" STYLE="bubble" SHAPE_HORIZONTAL_MARGIN="5.0 pt" SHAPE_VERTICAL_MARGIN="3.0 pt"/>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,7" STYLE="bubble" SHAPE_HORIZONTAL_MARGIN="5.0 pt" SHAPE_VERTICAL_MARGIN="3.0 pt"/>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,8" STYLE="bubble" SHAPE_HORIZONTAL_MARGIN="5.0 pt" SHAPE_VERTICAL_MARGIN="3.0 pt"/>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,9" STYLE="bubble" SHAPE_HORIZONTAL_MARGIN="5.0 pt" SHAPE_VERTICAL_MARGIN="3.0 pt"/>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,10" STYLE="bubble" SHAPE_HORIZONTAL_MARGIN="5.0 pt" SHAPE_VERTICAL_MARGIN="3.0 pt"/>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,11" STYLE="bubble" SHAPE_HORIZONTAL_MARGIN="5.0 pt" SHAPE_VERTICAL_MARGIN="3.0 pt"/>
</stylenode>
</stylenode>
</map_styles>
</hook>
<hook NAME="AutomaticEdgeColor" COUNTER="10" RULE="ON_BRANCH_CREATION"/>
<node TEXT="web服务" POSITION="right" ID="ID_540696896" CREATED="1605329673437" MODIFIED="1606469210765">
<edge COLOR="#ff0000"/>
<richcontent TYPE="DETAILS">

<html>
  <head>
    
  </head>
  <body>
    <p>
      提供页面内容的服务,基于http协议
    </p>
    <p>
      基于B/S（Browser/Server）架构的网页服务
    </p>
    <p>
      服务端提供网页
    </p>
    <p>
      浏览器下载并显示网页
    </p>
  </body>
</html>

</richcontent>
<node TEXT="http默认端口80" ID="ID_1813768393" CREATED="1605329686461" MODIFIED="1606470125686"><richcontent TYPE="DETAILS">

<html>
  <head>
    
  </head>
  <body>
    <p>
      依赖于httpd包,由Apache软件基金会构建
    </p>
    <p>
      默认
    </p>
    <p>
      Listen, 监听地址:端口（80）
    </p>
    <p>
      ServerName, 本站注册的DNS名称（空缺）
    </p>
    <p>
      DocumentRoot, 网页根目录（/var/www/html）
    </p>
    <p>
      DirectoryIndex, 起始/首页文件名（index.html）
    </p>
    <p>
      基于网页文件目录进行访问控制
    </p>
    <p>
      当子目录没有规则,默认继承上一级目录规则,针对此目录有单独配置,则不继承上一级目录规则
    </p>
  </body>
</html>

</richcontent>
<node TEXT="/etc/httpd/conf/httpd.conf" ID="ID_959465289" CREATED="1605627896391" MODIFIED="1606469267719">
<node TEXT="主配置文件,一般不直接修改&#xa;&lt;Directory    /&gt;&#xa;    Require all denied     #拒绝所有人访问&#xa;&lt;/Directory&gt;&#xa;&#xa;&lt;Directory    &quot;/var/www&quot;&gt;&#xa;    Require all granted      #允许所有人访问&#xa;&lt;/Directory&gt;" ID="ID_28380063" CREATED="1606469261592" MODIFIED="1606469265683"/>
</node>
<node TEXT="虚拟web主机" ID="ID_1634339369" CREATED="1605628814313" MODIFIED="1605629510492"><richcontent TYPE="DETAILS">

<html>
  <head>
    
  </head>
  <body>
    <p>
      由同一台服务器提供多个不同的web站点,一旦使用web主机功能,所有的网站都必须使用虚拟web进行呈现,并且使用调用配置文件
    </p>
    <p>
      区分方式
    </p>
    <p>
      基于域名的虚拟主机
    </p>
    <p>
      基于端口的虚拟主机
    </p>
    <p>
      基于IP地址的虚拟主机
    </p>
  </body>
</html>
</richcontent>
<node TEXT="/etc/httpd/conf.d/*.conf" ID="ID_215300852" CREATED="1605629028326" MODIFIED="1606469336267">
<node TEXT="调用配置文件&#xa;为每个虚拟站点添加配置&#xa;&lt;VirtualHost   IP地址:端口&gt;&#xa;       ServerName  此站点的DNS名称&#xa;       DocumentRoot  此站点的网页根目录&#xa;&lt;/VirtualHost&gt;" ID="ID_236186588" CREATED="1606469324007" MODIFIED="1606469331694"/>
</node>
<node TEXT="基于域名的配置（域名不同端口相同）" ID="ID_1280587003" CREATED="1605629158951" MODIFIED="1606469377839">
<node TEXT="[root@svr7 ~]# vim  /etc/httpd/conf.d/haha.conf&#xa;&lt;VirtualHost    *:80&gt;          #在所有IP地址监听80&#xa;   ServerName   www.qq.com        #网站的域名&#xa;   DocumentRoot   /var/www/qq   #网页文件路径&#xa;&lt;/VirtualHost&gt;&#xa;&lt;VirtualHost    *:80&gt;&#xa;   ServerName    www.lol.com&#xa;   DocumentRoot   /var/www/lol&#xa;&lt;/VirtualHost&gt;" ID="ID_1325211229" CREATED="1606469370200" MODIFIED="1606469375398"/>
</node>
<node TEXT="基于端口的配置（域名相同端口不同）" ID="ID_569572427" CREATED="1605629529422" MODIFIED="1606469401092">
<node TEXT="&lt;VirtualHost   *:80&gt;&#xa;   ServerName  www.qq.com&#xa;   DocumentRoot   /var/www/qq&#xa;&lt;/VirtualHost&gt;&#xa;Listen  8080    #此处配置另一个端口指向的路径&#xa;&lt;VirtualHost   *:8080&gt;&#xa;   ServerName   www.qq.com&#xa;   DocumentRoot    /var/www/lol&#xa;&lt;/VirtualHost&gt;" ID="ID_193505308" CREATED="1606469395328" MODIFIED="1606469399160"/>
</node>
</node>
<node TEXT="路径解析实例" ID="ID_271107690" CREATED="1605627945877" MODIFIED="1606469296431">
<node TEXT="DocumentRoot 为/webroot&#xa;网络路径：curl   http://192.168.4.7/&#xa;实际服务：/webroot" ID="ID_984001815" CREATED="1606469289793" MODIFIED="1606469293710"/>
</node>
</node>
<node TEXT="nginx" ID="ID_1481890823" CREATED="1605329701850" MODIFIED="1605329704654"/>
<node TEXT="tomcat" ID="ID_1773703937" CREATED="1605329704873" MODIFIED="1605329708296"/>
</node>
<node TEXT="ftp服务默认端口21" POSITION="right" ID="ID_18294684" CREATED="1605329850323" MODIFIED="1606470133766">
<edge COLOR="#0000ff"/>
<node TEXT="安装vsftpd包&#xa;基于ftp协议默认端口21&#xa;默认共享数据的主目录在/var/ftp/" ID="ID_1396603649" CREATED="1606469427975" MODIFIED="1606469596496"/>
</node>
<node TEXT="NFS服务默认端口2049,RPC端口111" POSITION="right" ID="ID_1211555611" CREATED="1605629664914" MODIFIED="1606470463810">
<edge COLOR="#7c0000"/>
<richcontent TYPE="DETAILS">

<html>
  <head>
    
  </head>
  <body>
    <p>
      Network File System网络文件系统
    </p>
    <p>
      为客户机提供共享使用的文件夹
    </p>
    <p>
      协议NFS（2049）、RPC（111）
    </p>
    <p>
      依赖于nfs-utils包
    </p>
    <p>
      系统服务名nfs-server
    </p>
  </body>
</html>
</richcontent>
<node TEXT="服务端配置" ID="ID_1123045469" CREATED="1605629867641" MODIFIED="1606469894203">
<node TEXT="/etc/exports&#xa;共享目标目录     IP(模式)&#xa;/public    *(ro)    #允许所有客户访问/public目录&#xa;systemctl restart nfs-server #重启服务加载配置" ID="ID_1518891934" CREATED="1606469884193" MODIFIED="1606469892524"/>
</node>
<node TEXT="客户端配置" ID="ID_69395731" CREATED="1605630080524" MODIFIED="1606470107209">
<node TEXT="创建挂载点&#xa;mkdir /mnt/mynfs&#xa;挂载&#xa;mount 192.168.4.7:/public /mnt/mynfs&#xa;开机自动挂载/etc/fstab下新增&#xa;192.168.4.7:/public /nmt/mynfs nfs defaults,_netdev 0 0&#xa;_netdev参数声明网络设备,系统在具备网络参数后,再进行挂载防止拖慢开机速度" ID="ID_1215751849" CREATED="1606470099346" MODIFIED="1606470103455"/>
</node>
</node>
<node TEXT="autofs服务" POSITION="right" ID="ID_1830997623" CREATED="1605630350510" MODIFIED="1605630513831">
<edge COLOR="#00007c"/>
<richcontent TYPE="DETAILS">

<html>
  <head>
    
  </head>
  <body>
    <p>
      触发挂载
    </p>
    <p>
      由autofs服务提供的“按需访问”机制
    </p>
    <p>
      只要访问挂载点就会触发响应,自动挂载指定设备
    </p>
    <p>
      超过时限（默认5分钟）后,会自动卸载
    </p>
    <p>
      依赖autofs包
    </p>
    <p>
      触发挂载实现,必须多级的目录结构:/监控目录/挂载点
    </p>
  </body>
</html>
</richcontent>
<node TEXT="/etc/auto.master" ID="ID_1721724533" CREATED="1605630458456" MODIFIED="1606470492209">
<node TEXT="主配置文件&#xa;监控点目录  挂载配置文件的路径" ID="ID_382870798" CREATED="1606470487529" MODIFIED="1606470490712"/>
</node>
<node TEXT="/etc/auto.misc" ID="ID_96615996" CREATED="1605630533163" MODIFIED="1606470501945">
<node TEXT="默认挂载配置文件&#xa;触发点子目录    -挂载参数   :设备名称" ID="ID_1856180172" CREATED="1606470496585" MODIFIED="1606470499542"/>
</node>
<node TEXT="实例" ID="ID_1142034059" CREATED="1605630883391" MODIFIED="1606470511788">
<node TEXT="mkdir /myauto&#xa;vim /etc/auto.master配置&#xa;/myauto    /opt/xixi.txt&#xa;vim /opt/xixi.txt&#xa;nsd    -fstype=iso9660    :/dev/cdrom&#xa;nfs     -fstype=nfs    192.168.4.7:/public&#xa;systemctl  restart  autofs&#xa;ls /myauto/nfs" ID="ID_1793759899" CREATED="1606470506536" MODIFIED="1606470509913"/>
</node>
</node>
<node TEXT="dns服务默认端口:TCP/UDP 53" POSITION="right" ID="ID_1827904223" CREATED="1605661672271" MODIFIED="1606470811407">
<edge COLOR="#007c00"/>
<richcontent TYPE="DETAILS">

<html>
  <head>
    
  </head>
  <body>
    <p>
      dns服务器功能
    </p>
    <p>
      正向解析:根据注册的域名查找到对应的IP地址
    </p>
    <p>
      反向解析:根据IP地址查找对应的注册域名,不常用
    </p>
    <p>
      域名系统: 所有的域名都必须要以点作为结尾,为树型结构
    </p>
    <p>
      FQDN（完全合格的主机名）:站点名+注册的域名
    </p>
    <p>
      dig&nbsp;&nbsp;@192.168.4.7&nbsp;&nbsp;&nbsp;www.bj.tedu.cn&nbsp;&nbsp;&nbsp;#专业域名解析的工具
    </p>
  </body>
</html>
</richcontent>
<node TEXT="分类" ID="ID_905592278" CREATED="1605662897200" MODIFIED="1605662900749">
<node TEXT="根域名服务器" ID="ID_1260059394" CREATED="1606223609895" MODIFIED="1606470566430">
<node TEXT="域名末尾的: .&#xa;常被省略,浏览器会自动补全.&#xa;全世界只有十三台." ID="ID_1652383605" CREATED="1606470561218" MODIFIED="1606470564731"/>
</node>
<node TEXT="一级,专门负责解析一级域名" ID="ID_1170150877" CREATED="1605662901789" MODIFIED="1606470579039">
<node TEXT=".cn        .us     .tw     .hk    ………." ID="ID_1597285284" CREATED="1606470574185" MODIFIED="1606470634248"/>
</node>
<node TEXT="二级,专门解析二级域名" ID="ID_1699568025" CREATED="1605662931850" MODIFIED="1606470590955">
<node TEXT=".com.cn    .org.cn   .net.cn ………" ID="ID_647119128" CREATED="1606470586258" MODIFIED="1606470589100"/>
</node>
<node TEXT="三级,专门解析三级域名" ID="ID_1643695242" CREATED="1605662948849" MODIFIED="1606470600060">
<node TEXT="haha.com.cn    xixi.com.cn   ….." ID="ID_802592285" CREATED="1606470595274" MODIFIED="1606470624437"/>
</node>
</node>
<node TEXT="依赖包bind,bind-chroot（提供牢笼政策）" ID="ID_1412816178" CREATED="1605665056321" MODIFIED="1606470798623"><richcontent TYPE="DETAILS">

<html>
  <head>
    
  </head>
  <body>
    <p>
      伯克利internet域名服务
    </p>
    <p>
      官方站点www.isc.org
    </p>
    <p>
      主执行程序/usr/sbin/named
    </p>
    <p>
      系统服务named
    </p>
    <p>
      运行时虚拟根环境/var/named/chroot/
    </p>
  </body>
</html>

</richcontent>
<node TEXT="/etc/named.conf" ID="ID_588700637" CREATED="1605666389336" MODIFIED="1606470655050">
<node TEXT="主配置文件&#xa;设置负责解析的域名&#xa;可先备份以防出错后修改&#xa;保留directory和zone字段内容即可&#xa;options {&#xa;        directory     &quot;/var/named&quot;;     #定义地址库文件存放路径&#xa;};&#xa;zone &quot;tedu.cn&quot;  IN {           #定义负责的解析tedu.cn域名&#xa;        type master;               #权威主DNS服务器&#xa;        file  &quot;tedu.cn.zone&quot;;     #地址库文件名称&#xa;};" ID="ID_1696471002" CREATED="1606470648785" MODIFIED="1606470652457"/>
</node>
<node TEXT="/var/named" ID="ID_671163244" CREATED="1605666415607" MODIFIED="1606470681455">
<node TEXT="地址库文件&#xa;完全合格的主机名与IP地址的对应关系&#xa;保证named用户对地址库文件有读取权限,可使用cp -p命令&#xa;所有的域名都要以点作为结尾&#xa;如果没有以点作为结尾，那么默认补全本地库文件负责的域名&#xa;DNS服务器资源解析记录的类型：&#xa;      NS:DNS服务器声明记录&#xa;      A：正向解析记录&#xa;      CNAME：解析记录的别名" ID="ID_1587112105" CREATED="1606470675092" MODIFIED="1606470764056"/>
</node>
</node>
<node TEXT="多区域的DNS服务器" ID="ID_112988345" CREATED="1606224691553" MODIFIED="1606470852618">
<node TEXT="vim   /etc/named.conf&#xa;options {&#xa;        directory       &quot;/var/named&quot;;&#xa;};&#xa;zone &quot;tedu.cn&quot;  IN  {&#xa;        type   master;&#xa;        file  &quot;tedu.cn.zone&quot;;&#xa;};&#xa;zone  &quot;lol.com&quot;  IN  {   #增加其他域名&#xa;         type  master;&#xa;         file  &quot;lol.com.zone&quot;;&#xa;};" ID="ID_1450790865" CREATED="1606470845250" MODIFIED="1606470849001"/>
</node>
<node TEXT="特殊解析" ID="ID_434766382" CREATED="1606269519104" MODIFIED="1606269527878">
<node TEXT="轮询（负载均衡）" ID="ID_1373975869" CREATED="1606269529181" MODIFIED="1606471517166">
<node TEXT="tedu.cn.   NS   svr7&#xa;svr7          A    192.168.4.7&#xa;www         A    192.168.4.20&#xa;www        A     192.168.4.21&#xa;www        A     192.168.4.22  #随机匹配一个给客户&#xa;ftp           A     2.2.2.2" ID="ID_1795778457" CREATED="1606471508985" MODIFIED="1606471514068"/>
</node>
<node TEXT="泛域名解析" ID="ID_108880404" CREATED="1606269583941" MODIFIED="1606471528165">
<node TEXT="tedu.cn.  NS   svr7&#xa;svr7         A    192.168.4.7&#xa;www       A    192.168.4.20&#xa;ftp           A    2.2.2.2&#xa;*              A    6.6.6.6    #忽略前缀,比如wwwa.tedu.cn,也能连到www.tedu.cn&#xa;tedu.cn.   A    7.7.7.7  #自动补全www." ID="ID_847596716" CREATED="1606471523250" MODIFIED="1606471526688"/>
</node>
<node TEXT="解析记录别名" ID="ID_576941097" CREATED="1606270011180" MODIFIED="1606471539337">
<node TEXT="vim   /var/named/tedu.cn.zone&#xa;……此处省略一万字&#xa;tedu.cn.   NS   svr7&#xa;svr7          A     192.168.4.7&#xa;www         A     192.168.4.20&#xa;ftp           A      2.2.2.2&#xa;*               A      6.6.6.6&#xa;tedu.cn.   A      7.7.7.7&#xa;vip       CNAME    ftp         #vip解析结果与ftp解析结果一致" ID="ID_1741498587" CREATED="1606471533131" MODIFIED="1606471537234"/>
</node>
</node>
<node TEXT="递归查询（递归解析）" ID="ID_1505329660" CREATED="1606270118438" MODIFIED="1606270166923"><richcontent TYPE="DETAILS">

<html>
  <head>
    
  </head>
  <body>
    <p>
      客户端发送请求给首选DNS服务器，首选DNS服务器与其他的DNS服务器交互，最终将解析结果带回来过程
    </p>
  </body>
</html>
</richcontent>
<node TEXT="服务器A子域授权" ID="ID_209228656" CREATED="1606272074811" MODIFIED="1606272147079"><richcontent TYPE="DETAILS">

<html>
  <head>
    
  </head>
  <body>
    <p>
      vim /var/named/tedu.cn.zone
    </p>
    <p>
      <u>tedu.cn.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NS&nbsp;&nbsp;&nbsp;&nbsp;svr7 </u>
    </p>
    <p>
      <u>bj.tedu.cn.&nbsp;&nbsp;NS&nbsp;&nbsp;&nbsp;&nbsp;pc207 </u>
    </p>
    <p>
      <u>svr7&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;192.168.4.7 </u>
    </p>
    <p>
      <u>pc207&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;192.168.4.207</u>
    </p>
    <p>
      www&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;192.168.4.20
    </p>
    <p>
      ftp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.2.2.2
    </p>
    <p>
      *&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4.4.4.4
    </p>
    <p>
      tedu.cn.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;5.5.5.5
    </p>
    <p>
      vip&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CNAME&nbsp;&nbsp;ftp
    </p>
  </body>
</html>
</richcontent>
</node>
<node TEXT="服务器B负责子域解析" ID="ID_1132372742" CREATED="1606272159026" MODIFIED="1606272380646"><richcontent TYPE="DETAILS">

<html>
  <head>
    
  </head>
  <body>
    <p>
      options {
    </p>
    <p>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;directory&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;/var/named&quot;;
    </p>
    <p>
      };
    </p>
    <p>
      zone &quot;bj.tedu.cn&quot; IN {
    </p>
    <p>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type master;
    </p>
    <p>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file &quot;bj.tedu.cn.zone&quot;;
    </p>
    <p>
      };
    </p>
    <p>
      vim bj.tedu.cn.zone
    </p>
    <p>
      ……此处省略一万字
    </p>
    <p>
      bj.tedu.cn.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NS&nbsp;&nbsp;&nbsp;pc207
    </p>
    <p>
      pc207&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;&nbsp;&nbsp;&nbsp;192.168.4.207
    </p>
    <p>
      www&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;9.9.9.9
    </p>
  </body>
</html>
</richcontent>
</node>
</node>
<node TEXT="迭代查询（迭代解析）" ID="ID_24634509" CREATED="1606270174918" MODIFIED="1606270210923"><richcontent TYPE="DETAILS">

<html>
  <head>
    
  </head>
  <body>
    <p>
      客户端发送请求给首选DNS服务器，首选DNS服务器告知下一个DNS服务器地址
    </p>
  </body>
</html>
</richcontent>
<node TEXT="禁止递归查询" ID="ID_24814394" CREATED="1606272495253" MODIFIED="1606272552569"><richcontent TYPE="DETAILS">

<html>
  <head>
    
  </head>
  <body>
    <p>
      vim /etc/named.conf
    </p>
    <p>
      options {
    </p>
    <p>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;directory&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;/var/named&quot;;
    </p>
    <p>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;recursion no;&nbsp;&nbsp;&nbsp;&nbsp;#禁止递归查询
    </p>
    <p>
      };
    </p>
  </body>
</html>
</richcontent>
</node>
</node>
<node TEXT="主从DNS服务器架构" ID="ID_614372858" CREATED="1606224704290" MODIFIED="1606273879249"><richcontent TYPE="DETAILS">

<html>
  <head>
    
  </head>
  <body>
    <p>
      作用：提高可靠性，从DNS服务器备份主DNS服务器的数据
    </p>
  </body>
</html>
</richcontent>
<node TEXT="服务器A授权从属服务器" ID="ID_1683007165" CREATED="1606273881878" MODIFIED="1606274064863"><richcontent TYPE="DETAILS">

<html>
  <head>
    
  </head>
  <body>
    <p>
      vim&nbsp;&nbsp;&nbsp;/etc/named.conf
    </p>
    <p>
      options {
    </p>
    <p>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;directory&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;/var/named&quot;;
    </p>
    <p>
      &nbsp;&nbsp;&nbsp; <u>&nbsp;allow-transfer&nbsp;&nbsp;{&nbsp;&nbsp;192.168.4.207;&nbsp;&nbsp;&nbsp;};&nbsp;&nbsp;&nbsp;&nbsp;#允许谁进行传输数据</u>
    </p>
    <p>
      };
    </p>
    <p>
      zone &quot;tedu.cn&quot; IN {
    </p>
    <p>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type master;
    </p>
    <p>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file &quot;tedu.cn.zone&quot;;
    </p>
    <p>
      };
    </p>
    <p>
      zone &quot;lol.com&quot; IN {
    </p>
    <p>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type master;
    </p>
    <p>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file &quot;lol.com.zone&quot;;
    </p>
    <p>
      };
    </p>
    <p>
      &nbsp;&nbsp;&nbsp;&nbsp;2. 声明从DNS服务器
    </p>
    <p>
      [root@svr7 /]# vim&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/var/named/lol.com.zone
    </p>
    <p>
      ……此处省略一万字
    </p>
    <p>
      lol.com.&nbsp;&nbsp;&nbsp;NS&nbsp;&nbsp;&nbsp;svr7
    </p>
    <p>
      <u>lol.com.&nbsp;&nbsp;&nbsp;NS&nbsp;&nbsp;&nbsp;pc207&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#声明从DNS服务器</u>
    </p>
    <p>
      svr7&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;192.168.4.7
    </p>
    <p>
      <u>pc207&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;192.168.4.207</u>
    </p>
    <p>
      www&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4.4.4.4
    </p>
  </body>
</html>
</richcontent>
</node>
<node TEXT="服务器B配置为从服务器" ID="ID_1468538092" CREATED="1606274070138" MODIFIED="1606365849963"><richcontent TYPE="DETAILS">

<html>
  <head>
    
  </head>
  <body>
    <p>
      vim&nbsp;&nbsp;&nbsp;/etc/named.conf
    </p>
    <p>
      options&nbsp;&nbsp;{
    </p>
    <p>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;directory&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;/var/named&quot;;
    </p>
    <p>
      };
    </p>
    <p>
      zone&nbsp;&nbsp;&quot;lol.com&quot;&nbsp;&nbsp;IN&nbsp;&nbsp;{
    </p>
    <p>
      &nbsp;&nbsp;<u>type&nbsp;&nbsp;&nbsp;slave;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#类型为从服务器</u>
    </p>
    <p>
      &nbsp;&nbsp;<u>file &quot;/var/named/slaves/lol.com.slave&quot;;&nbsp;&nbsp;#确保named用户有读写执行权限</u>
    </p>
    <p>
      &nbsp;&nbsp;<u>masters&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;&nbsp;192.168.4.7;&nbsp;&nbsp;&nbsp;&nbsp;};&nbsp;&nbsp;&nbsp;#指定主DNS服务器</u>
    </p>
    <p>
      &nbsp;<u>&nbsp;masterfile-format&nbsp;&nbsp;&nbsp;&nbsp;text;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#地址库文件明文存储</u>
    </p>
    <p>
      };
    </p>
  </body>
</html>
</richcontent>
</node>
<node TEXT="主从数据同步设置" ID="ID_1058352903" CREATED="1606274225638" MODIFIED="1606274282538"><richcontent TYPE="DETAILS">

<html>
  <head>
    
  </head>
  <body>
    <p>
      主服务器配置
    </p>
    <p>
      vim&nbsp;&nbsp;&nbsp;&nbsp;/var/named/lol.com.zone
    </p>
    <p>
      …….此处省略一万字
    </p>
    <p>
      &nbsp;&nbsp; <u>&nbsp;&nbsp;2020111801&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; serial&nbsp;&nbsp;#数据的版本号，由10个数字组成</u>
    </p>
    <p>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1D&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; refresh&nbsp;&nbsp;&nbsp;&nbsp;#每隔1天主从进行数据交互
    </p>
    <p>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1H&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; retry&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#失效之后的时间间隔每一个1小时
    </p>
    <p>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1W&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; expire&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#真正的失效时间，1周
    </p>
    <p>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3H )&nbsp;&nbsp;&nbsp;&nbsp;; minimum&nbsp;&nbsp;#失效记录的记忆时间3小时
    </p>
    <p>
      lol.com.&nbsp;&nbsp;&nbsp;&nbsp;NS&nbsp;&nbsp;&nbsp;svr7
    </p>
    <p>
      lol.com.&nbsp;&nbsp;&nbsp;&nbsp;NS&nbsp;&nbsp;&nbsp;pc207
    </p>
    <p>
      svr7&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;192.168.4.7
    </p>
    <p>
      pc207&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;192.168.4.207&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    </p>
    <p>
      <u>www&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;11.12.13.14</u>
    </p>
  </body>
</html>
</richcontent>
</node>
</node>
<node TEXT="缓存DNS服务器" ID="ID_1313110550" CREATED="1606224718113" MODIFIED="1606275488029"><richcontent TYPE="DETAILS">

<html>
  <head>
    
  </head>
  <body>
    <p>
      作用：缓存解析结果，加快访问
    </p>
  </body>
</html>
</richcontent>
<node TEXT="配置" ID="ID_1040897963" CREATED="1606275534238" MODIFIED="1606275553369"><richcontent TYPE="DETAILS">

<html>
  <head>
    
  </head>
  <body>
    <p>
      vim&nbsp;&nbsp;&nbsp;/etc/named.conf
    </p>
    <p>
      options&nbsp;&nbsp;{
    </p>
    <p>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;directory&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;/var/named&quot;;
    </p>
    <p>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;forwarders&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;&nbsp;192.168.4.7;&nbsp;&nbsp;&nbsp;};&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#转发给192.168.4.7
    </p>
    <p>
      };
    </p>
  </body>
</html>
</richcontent>
</node>
</node>
<node TEXT="分离解析" ID="ID_1141177878" CREATED="1606275602794" MODIFIED="1606278289778"><richcontent TYPE="DETAILS">

<html>
  <head>
    
  </head>
  <body>
    <p>
      当收到客户机的DNS查询请求的时候
    </p>
    <p>
      能够区分客户机的来源地址
    </p>
    <p>
      为不同类别的客户机提供不同的解析结果（IP地址）
    </p>
    <p>
      为客户端提供最近的服务器
    </p>
    <p>
      &nbsp;&nbsp;&nbsp;&nbsp;• 分离解析配置
    </p>
    <p>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;◦ 客户端必须找到自己的类型
    </p>
    <p>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;◦ 由上到下依次匹配，匹配及停止&nbsp;&nbsp;
    </p>
    <p>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;◦ 所有的zone都必须在view当中
    </p>
    <p>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;​ 每一个view中，zone个数要一致
    </p>
    <p>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;​ 每一个view中，zone负责的域名要一致
    </p>
  </body>
</html>
</richcontent>
<node TEXT="view  &quot;haha&quot; {&#xa;    match-clients   {   192.168.4.0/24;   192.168.8.1;     };&#xa;    zone  &quot;12306.cn&quot;  IN  {&#xa;        …… 地址库1;&#xa;    };    };&#xa;view  &quot;xixi&quot; {&#xa;    match-clients   {     any;      };&#xa;    zone  &quot;12306.cn&quot;  IN {&#xa;        …… 地址库2;&#xa;    };    };" ID="ID_290594053" CREATED="1606278131423" MODIFIED="1606278226584"><richcontent TYPE="DETAILS">

<html>
  <head>
    
  </head>
  <body>
    <p>
      1.修改主配置文件
    </p>
    <p>
      [root@svr7 /]# vim /etc/named.conf
    </p>
    <p>
      options {
    </p>
    <p>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;directory&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;/var/named&quot;;
    </p>
    <p>
      };
    </p>
    <p>
      view&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;nsd&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{
    </p>
    <p>
      &nbsp;match-clients&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;192.168.4.207;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;192.168.7.0/24;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};
    </p>
    <p>
      &nbsp;zone&nbsp;&nbsp;&nbsp;&quot;lol.com&quot;&nbsp;&nbsp;&nbsp;&nbsp;IN {
    </p>
    <p>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type&nbsp;&nbsp;&nbsp;master;
    </p>
    <p>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file&nbsp;&nbsp;&nbsp;&nbsp;&quot;lol.com.zone&quot;;
    </p>
    <p>
      &nbsp;};
    </p>
    <p>
      };
    </p>
    <p>
      view&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;other&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{
    </p>
    <p>
      &nbsp;match-clients&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;any;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};
    </p>
    <p>
      &nbsp;zone&nbsp;&nbsp;&nbsp;&nbsp;&quot;lol.com&quot;&nbsp;&nbsp;&nbsp;&nbsp;IN {
    </p>
    <p>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type&nbsp;&nbsp;&nbsp;&nbsp;master;
    </p>
    <p>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;lol.com.other&quot;;
    </p>
    <p>
      &nbsp;};
    </p>
    <p>
      };
    </p>
    <p>
      2．建立地址库文件
    </p>
    <p>
      ]# cd&nbsp;&nbsp;&nbsp;&nbsp;/var/named/
    </p>
    <p>
      ]# vim&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lol.com.zone
    </p>
    <p>
      此处省略一万字……..
    </p>
    <p>
      lol.com.&nbsp;&nbsp;&nbsp;&nbsp;NS&nbsp;&nbsp;svr7
    </p>
    <p>
      svr7&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;&nbsp;&nbsp;192.168.4.7
    </p>
    <p>
      www&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;&nbsp;&nbsp;192.168.4.100
    </p>
    <p>
      ]# cp&nbsp;&nbsp;-p&nbsp;&nbsp;&nbsp;&nbsp;lol.com.zone&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lol.com.other
    </p>
    <p>
      ]# vim&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lol.com.other
    </p>
    <p>
      此处省略一万字……..
    </p>
    <p>
      lol.com.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NS&nbsp;&nbsp;&nbsp;svr7
    </p>
    <p>
      svr7&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;192.168.4.7
    </p>
    <p>
      www&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1.2.3.4
    </p>
  </body>
</html>
</richcontent>
<node TEXT="例子" ID="ID_474094381" CREATED="1606278301006" MODIFIED="1606278420311"><richcontent TYPE="DETAILS">

<html>
  <head>
    
  </head>
  <body>
    <p>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;​ 权威DNS：svr7.tedu.cn&nbsp;&nbsp;192.168.4.7
    </p>
    <p>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;​ 负责区域：lol.com&nbsp;&nbsp;&nbsp;qq.com
    </p>
    <p>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;​ A记录分离解析 —— 以 www.lol.com&nbsp;&nbsp;&nbsp;www.qq.com为例
    </p>
    <p>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;​ 要求：
    </p>
    <p>
      &nbsp;&nbsp;&nbsp;&nbsp;• 192.168.4.207 -- www.lol.com ---&gt;192.168.4.100
    </p>
    <p>
      &nbsp;&nbsp;&nbsp;&nbsp;• any--- www.lol.com --&gt;1.2.3.4
    </p>
    <p>
      
    </p>
    <p>
      &nbsp;&nbsp;&nbsp;&nbsp;• 192.168.4.207--www.qq.com---&gt;192.168.4.200
    </p>
    <p>
      &nbsp;&nbsp;&nbsp;&nbsp;• any-- www.qq.com ---&gt;10.20.30.40
    </p>
    <p>
      虚拟机A：
    </p>
    <p>
      [root@svr7 named]# vim /etc/named.conf
    </p>
    <p>
      options {
    </p>
    <p>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;directory&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;/var/named&quot;;
    </p>
    <p>
      };
    </p>
    <p>
      view &quot;nsd&quot; {
    </p>
    <p>
      &nbsp;match-clients&nbsp;&nbsp;{&nbsp;&nbsp;192.168.4.207;&nbsp;&nbsp;192.168.7.0/24;&nbsp;&nbsp;&nbsp;};
    </p>
    <p>
      &nbsp;zone &quot;lol.com&quot; IN {
    </p>
    <p>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type master;
    </p>
    <p>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file &quot;lol.com.zone&quot;;
    </p>
    <p>
      &nbsp;};
    </p>
    <p>
      &nbsp;zone &quot;qq.com&quot; IN {
    </p>
    <p>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type master;
    </p>
    <p>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file &quot;qq.com.zone&quot;;
    </p>
    <p>
      &nbsp;};
    </p>
    <p>
      };
    </p>
    <p>
      
    </p>
    <p>
      view &quot;other&quot; {
    </p>
    <p>
      &nbsp;match-clients {&nbsp;&nbsp;any;&nbsp;&nbsp;&nbsp;};
    </p>
    <p>
      &nbsp;zone &quot;lol.com&quot; IN {
    </p>
    <p>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type master;
    </p>
    <p>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file &quot;lol.com.other&quot;;
    </p>
    <p>
      &nbsp;};
    </p>
    <p>
      &nbsp;zone &quot;qq.com&quot; IN {
    </p>
    <p>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type master;
    </p>
    <p>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file &quot;qq.com.other&quot;;
    </p>
    <p>
      &nbsp;};
    </p>
    <p>
      };
    </p>
    <p>
      2.建立地址库文件
    </p>
    <p>
      ]# cd&nbsp;&nbsp;&nbsp;/var/named/
    </p>
    <p>
      ]# cp -p&nbsp;&nbsp;named.localhost&nbsp;&nbsp;&nbsp;&nbsp;qq.com.zone
    </p>
    <p>
      ]# vim&nbsp;&nbsp;&nbsp;qq.com.zone&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    </p>
    <p>
      此处省略一万字……..
    </p>
    <p>
      qq.com.&nbsp;&nbsp;NS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;svr7
    </p>
    <p>
      svr7&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;192.168.4.7
    </p>
    <p>
      www&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;192.168.4.200
    </p>
    <p>
      ]# cp&nbsp;&nbsp;-p&nbsp;&nbsp;&nbsp;qq.com.zone&nbsp;&nbsp;&nbsp;&nbsp;qq.com.other
    </p>
    <p>
      ]# vim qq.com.other
    </p>
    <p>
      此处省略一万字……..
    </p>
    <p>
      qq.com.&nbsp;&nbsp;NS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;svr7
    </p>
    <p>
      svr7&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;192.168.4.7
    </p>
    <p>
      www&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;10.20.30.40
    </p>
    <p>
      [root@svr7 named]# systemctl&nbsp;&nbsp;&nbsp;restart&nbsp;&nbsp;&nbsp;named
    </p>
    <p>
      &nbsp;&nbsp;&nbsp;&nbsp;•&nbsp;&nbsp;针对来源地址定义acl列表(了解内容)
    </p>
    <p>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;​ 若地址比较少，也可以不建立列表
    </p>
    <p>
      
    </p>
    <p>
      options {
    </p>
    <p>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;directory&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;/var/named&quot;;
    </p>
    <p>
      };
    </p>
    <p>
      acl&nbsp;&nbsp;&quot;test&quot;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;&nbsp;192.168.4.207;&nbsp;&nbsp;&nbsp;&nbsp;192.168.7.0/24;&nbsp;&nbsp;&nbsp;};
    </p>
    <p>
      view &quot;nsd&quot; {
    </p>
    <p>
      &nbsp;match-clients&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;&nbsp;test;&nbsp;&nbsp;&nbsp;};
    </p>
    <p>
      &nbsp;zone &quot;lol.com&quot; IN&nbsp;&nbsp;{
    </p>
    <p>
      此处省略一万字……..
    </p>
  </body>
</html>
</richcontent>
</node>
</node>
</node>
</node>
<node TEXT="NTP时间服务器" POSITION="right" ID="ID_216807656" CREATED="1606278481932" MODIFIED="1606278547293">
<edge COLOR="#7c007c"/>
<richcontent TYPE="DETAILS">

<html>
  <head>
    
  </head>
  <body>
    <p>
      作用：提供标准时间
    </p>
    <p>
      &nbsp;&nbsp;&nbsp;&nbsp;• Network Time Protocol（网络时间协议）
    </p>
    <p>
      &nbsp;&nbsp;&nbsp;&nbsp;• 它用来同步网络中各个计算机的时间的协议
    </p>
    <p>
      &nbsp;&nbsp;&nbsp;&nbsp;• 210.72.145.39 (国家授时中心服务器IP地址)
    </p>
    <p>
      &nbsp;&nbsp;&nbsp;&nbsp;• Stratum（分层设计）
    </p>
    <p>
      &nbsp;&nbsp;&nbsp;&nbsp;• Stratum层的总数限制在15以内（包括15）
    </p>
  </body>
</html>
</richcontent>
<node TEXT="依赖包chrony" ID="ID_1015163416" CREATED="1606278871266" MODIFIED="1606278885216"/>
<node TEXT="/etc/chrony.conf" ID="ID_316652710" CREATED="1606278893805" MODIFIED="1606278973069"><richcontent TYPE="DETAILS">

<html>
  <head>
    
  </head>
  <body>
    <p>
      服务端配置
    </p>
    <p>
      #server&nbsp;&nbsp;&nbsp;0.centos.pool.ntp.org&nbsp;&nbsp;&nbsp;iburst&nbsp;&nbsp;&nbsp;&nbsp;#与谁同步时间
    </p>
    <p>
      #server&nbsp;&nbsp;&nbsp;1.centos.pool.ntp.org&nbsp;&nbsp;&nbsp;iburst&nbsp;&nbsp;&nbsp;&nbsp;#iburst表示快速同步
    </p>
    <p>
      #server&nbsp;&nbsp;&nbsp;2.centos.pool.ntp.org&nbsp;&nbsp;&nbsp;iburst
    </p>
    <p>
      #server&nbsp;&nbsp;&nbsp;3.centos.pool.ntp.org&nbsp;&nbsp;&nbsp;iburst
    </p>
    <p>
      26行&nbsp;&nbsp;allow&nbsp;&nbsp;&nbsp;all&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#开头的#去掉，修改为允许所有客户端
    </p>
    <p>
      29行&nbsp;&nbsp;local&nbsp;&nbsp;stratum&nbsp;&nbsp;10&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#设置本机为第10层的时间服务器
    </p>
  </body>
</html>
</richcontent>
</node>
<node TEXT="客户端配置" ID="ID_652032647" CREATED="1606278991435" MODIFIED="1606279040374"><richcontent TYPE="DETAILS">

<html>
  <head>
    
  </head>
  <body>
    <p>
      vim&nbsp;&nbsp;&nbsp;/etc/chrony.conf&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    </p>
    <p>
      server&nbsp;&nbsp;192.168.4.7&nbsp;&nbsp;&nbsp;iburst&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#与192.168.4.7同步时间
    </p>
    <p>
      #server&nbsp;&nbsp;1.centos.pool.ntp.org&nbsp;&nbsp;iburst&nbsp;&nbsp;&nbsp;&nbsp;#iburst表示快速同步
    </p>
    <p>
      #server&nbsp;&nbsp;2.centos.pool.ntp.org&nbsp;&nbsp;iburst
    </p>
    <p>
      #server&nbsp;&nbsp;3.centos.pool.ntp.org&nbsp;&nbsp;iburst
    </p>
  </body>
</html>
</richcontent>
</node>
<node TEXT="chronyc sources -v 列出时间服务器信息" ID="ID_1171554140" CREATED="1606279057535" MODIFIED="1606279113624"/>
</node>
<node TEXT="邮件服务器" POSITION="right" ID="ID_833625942" CREATED="1606279121712" MODIFIED="1606279144880">
<edge COLOR="#007c7c"/>
<richcontent TYPE="DETAILS">

<html>
  <head>
    
  </head>
  <body>
    <p>
      &nbsp;&nbsp;&nbsp;&nbsp;• 电子邮件服务器的基本功能
    </p>
    <p>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;​ 为用户提供电子邮箱存储空间（用户名@邮件域名）
    </p>
    <p>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;​ 处理用户发出的邮件 —— 传递给收件服务器
    </p>
    <p>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;​ 处理用户收到的邮件 —— 投递到邮箱
    </p>
  </body>
</html>
</richcontent>
<node TEXT="DNS添加邮件解析功能" ID="ID_1856410362" CREATED="1606279175953" MODIFIED="1606279289671"><richcontent TYPE="DETAILS">

<html>
  <head>
    
  </head>
  <body>
    <p>
      1.修改主配置文件
    </p>
    <p>
      [root@svr7 /]# vim /etc/named.conf
    </p>
    <p>
      options {
    </p>
    <p>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;directory&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;/var/named&quot;;
    </p>
    <p>
      };
    </p>
    <p>
      zone&nbsp;&nbsp;&quot;qq.com&quot;&nbsp;&nbsp;&nbsp;IN&nbsp;&nbsp;&nbsp;{
    </p>
    <p>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type&nbsp;&nbsp;&nbsp;master;
    </p>
    <p>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file&nbsp;&nbsp;&nbsp;&quot;qq.com.zone&quot;;
    </p>
    <p>
      };
    </p>
    <p>
      2.建立地址库文件
    </p>
    <p>
      [root@svr7 /]# cd&nbsp;&nbsp;&nbsp;&nbsp;/var/named/
    </p>
    <p>
      [root@svr7 named]# vim&nbsp;&nbsp;&nbsp;qq.com.zone
    </p>
    <p>
      此处省略一万字……..
    </p>
    <p>
      qq.com.&nbsp;&nbsp;&nbsp;NS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;svr7
    </p>
    <p>
      <u>qq.com.&nbsp;&nbsp;&nbsp;MX&nbsp;&nbsp;&nbsp;10&nbsp;&nbsp;&nbsp;mail&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#数字10为优先级，越小越优先</u>
    </p>
    <p>
      svr7&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;192.168.4.7
    </p>
    <p>
      <u>mail&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;192.168.4.7</u>
    </p>
    <p>
      www&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;192.168.4.200
    </p>
    <p>
      ]# systemctl&nbsp;&nbsp;&nbsp;restart&nbsp;&nbsp;&nbsp;named&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    </p>
    <p>
      
    </p>
    <p>
      ]# echo&nbsp;&nbsp;nameserver 192.168.4.7&nbsp;&nbsp;&nbsp;&gt;&nbsp;&nbsp;&nbsp;/etc/resolv.conf
    </p>
    <p>
      ]# host&nbsp;&nbsp;-t&nbsp;&nbsp;MX&nbsp;&nbsp;qq.com&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#测试qq.com区域邮件交换记录
    </p>
    <p>
      qq.com mail is handled by 10 mail.qq.com.
    </p>
    <p>
      
    </p>
    <p>
      ]# host mail.qq.com&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#测试域名完整解析
    </p>
    <p>
      mail.qq.com has address 192.168.4.7
    </p>
  </body>
</html>
</richcontent>
</node>
<node TEXT="安装postfix" ID="ID_1187075232" CREATED="1606279313101" MODIFIED="1606279329585"/>
<node TEXT="配置" ID="ID_757933928" CREATED="1606279336307" MODIFIED="1606279362550"><richcontent TYPE="DETAILS">

<html>
  <head>
    
  </head>
  <body>
    <p>
      vim&nbsp;&nbsp;/etc/postfix/main.cf
    </p>
    <p>
      99&nbsp;&nbsp;myorigin = qq.com&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#默认补全的域名后缀
    </p>
    <p>
      116 inet_interfaces =&nbsp;&nbsp;all #本机所有IP地址均提供邮件收发功能
    </p>
    <p>
      164 mydestination = qq.com&nbsp;&nbsp;&nbsp;&nbsp;#判断是否为本域邮件的依据
    </p>
    <p>
      3.重启邮件服务
    </p>
  </body>
</html>
</richcontent>
</node>
<node TEXT="测试" ID="ID_146137838" CREATED="1606279374882" MODIFIED="1606279409105"><richcontent TYPE="DETAILS">

<html>
  <head>
    
  </head>
  <body>
    <p>
      4.测试
    </p>
    <p>
      &nbsp;&nbsp;&nbsp;&nbsp;• mail 发信操作: mail&nbsp;&nbsp;&nbsp;-s&nbsp;&nbsp;&nbsp;'邮件标题'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-r&nbsp;&nbsp;&nbsp;&nbsp;发件人&nbsp;&nbsp;&nbsp;收件人
    </p>
    <p>
      [root@svr7 /]# useradd&nbsp;&nbsp;&nbsp;yg
    </p>
    <p>
      [root@svr7 /]# useradd&nbsp;&nbsp;&nbsp;&nbsp;xln
    </p>
    <p>
      [root@svr7 /]# mail&nbsp;&nbsp;&nbsp;-s&nbsp;&nbsp;&nbsp;&nbsp;'test01'&nbsp;&nbsp;&nbsp;&nbsp;-r&nbsp;&nbsp;&nbsp;yg&nbsp;&nbsp;&nbsp;&nbsp;xln
    </p>
    <p>
      ahahaxixiehehelele
    </p>
    <p>
      .&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#一行只有一个点表示提交
    </p>
    <p>
      EOT
    </p>
    <p>
      
    </p>
    <p>
      &nbsp;&nbsp;&nbsp;&nbsp;• mail 收信操作: mail&nbsp;&nbsp;&nbsp;&nbsp;[-u&nbsp;&nbsp;用户名]
    </p>
    <p>
      [root@svr7 /]# mail&nbsp;&nbsp;&nbsp;-u&nbsp;&nbsp;&nbsp;&nbsp;xln
    </p>
    <p>
      &gt;N&nbsp;&nbsp;1&nbsp;&nbsp;yg@qq.com&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Fri Sep 18 17:24&nbsp;&nbsp;18/510
    </p>
    <p>
      &amp;&nbsp;&nbsp;1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#输入邮件编号
    </p>
    <p>
      &amp;&nbsp;&nbsp;quit&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#退出
    </p>
    <p>
      [root@svr7 /]# echo 123456&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;mail&nbsp;&nbsp;&nbsp;-s&nbsp;&nbsp;&nbsp;'test02'&nbsp;&nbsp;-r&nbsp;&nbsp;yg&nbsp;&nbsp;xln
    </p>
    <p>
      [root@svr7 /]# mail&nbsp;&nbsp;-u&nbsp;&nbsp;xln&nbsp;
    </p>
  </body>
</html>
</richcontent>
</node>
</node>
<node TEXT="systemd" POSITION="right" ID="ID_1374566875" CREATED="1605625542120" MODIFIED="1606218653430">
<edge COLOR="#00ff00"/>
<richcontent TYPE="DETAILS">

<html>
  <head>
    
  </head>
  <body>
    <p>
      服务和服务管理器（上帝进程）
    </p>
    <p>
      内核引导之后加载的第一个初始化进程（PID=1）
    </p>
    <p>
      负责掌控整个linux的运行/服务资源组合
    </p>
    <p>
      开机服务并行启动,各系统服务间的精确依赖
    </p>
    <p>
      管理时与手动启动的服务有冲突,最好先把手动启用的服务杀掉
    </p>
  </body>
</html>
</richcontent>
<node TEXT="/etc/systemd/system" ID="ID_767427342" CREATED="1605625695154" MODIFIED="1605625746361"><richcontent TYPE="DETAILS">

<html>
  <head>
    
  </head>
  <body>
    <p>
      配置目录
    </p>
  </body>
</html>
</richcontent>
</node>
<node TEXT="/lib/systemd/system" ID="ID_1013072688" CREATED="1605625709576" MODIFIED="1605625752502"><richcontent TYPE="DETAILS">

<html>
  <head>
    
  </head>
  <body>
    <p>
      服务目录
    </p>
  </body>
</html>
</richcontent>
</node>
<node TEXT="systemctl" ID="ID_1511752269" CREATED="1605625720536" MODIFIED="1605625762484"><richcontent TYPE="DETAILS">

<html>
  <head>
    
  </head>
  <body>
    <p>
      管理工具
    </p>
  </body>
</html>
</richcontent>
<node TEXT="systemctl -t service --all" ID="ID_58862189" CREATED="1605625769698" MODIFIED="1605625800335"><richcontent TYPE="DETAILS">

<html>
  <head>
    
  </head>
  <body>
    <p>
      列出所有的服务
    </p>
  </body>
</html>
</richcontent>
</node>
<node TEXT="systemctl start|stop|restart| 服务名称" ID="ID_778734812" CREATED="1605625803824" MODIFIED="1605625877080"><richcontent TYPE="DETAILS">

<html>
  <head>
    
  </head>
  <body>
    <p>
      启动|停止|重启指定服务
    </p>
  </body>
</html>
</richcontent>
</node>
<node TEXT="systemctl status 服务名" ID="ID_481444063" CREATED="1605625883655" MODIFIED="1605625909459"><richcontent TYPE="DETAILS">

<html>
  <head>
    
  </head>
  <body>
    <p>
      查看服务当前状态
    </p>
  </body>
</html>
</richcontent>
</node>
<node TEXT="systemctl enable|disable 服务名" ID="ID_1961185854" CREATED="1605625918912" MODIFIED="1605625958508"><richcontent TYPE="DETAILS">

<html>
  <head>
    
  </head>
  <body>
    <p>
      设置|取消服务开机自启动
    </p>
  </body>
</html>
</richcontent>
</node>
<node TEXT="systemctl is-enabled 服务名" ID="ID_1580588179" CREATED="1605625963240" MODIFIED="1605625993472"><richcontent TYPE="DETAILS">

<html>
  <head>
    
  </head>
  <body>
    <p>
      查看指定服务是否开机启动
    </p>
  </body>
</html>
</richcontent>
</node>
</node>
<node TEXT="系统运行级别" ID="ID_247097657" CREATED="1606218928793" MODIFIED="1606218936295">
<node TEXT="systemctl isolate multi-user.target" ID="ID_906129711" CREATED="1606218947151" MODIFIED="1606219059419"><richcontent TYPE="DETAILS">

<html>
  <head>
    
  </head>
  <body>
    <p>
      当前直接切换到多用户字符模式
    </p>
    <p>
      相当于rhel6的init 3
    </p>
  </body>
</html>
</richcontent>
</node>
<node TEXT="systemctl isolate graphical.target" ID="ID_917100053" CREATED="1606218988028" MODIFIED="1606219093791"><richcontent TYPE="DETAILS">

<html>
  <head>
    
  </head>
  <body>
    <p>
      当前切换到图形模式
    </p>
    <p>
      相当于rhel6的init 5
    </p>
  </body>
</html>
</richcontent>
</node>
<node TEXT="systemctl get-default" ID="ID_1558659399" CREATED="1606219114423" MODIFIED="1606219143406"><richcontent TYPE="DETAILS">

<html>
  <head>
    
  </head>
  <body>
    <p>
      查看每次开机默认进入模式
    </p>
  </body>
</html>
</richcontent>
</node>
<node TEXT="systemctl set-default multi-user.target" ID="ID_179812192" CREATED="1606219148159" MODIFIED="1606219204317"><richcontent TYPE="DETAILS">

<html>
  <head>
    
  </head>
  <body>
    <p>
      设置永久策略,开机自动进入multi-user.target
    </p>
  </body>
</html>
</richcontent>
</node>
</node>
</node>
<node TEXT="端口" POSITION="right" ID="ID_1189944384" CREATED="1605628573664" MODIFIED="1606275861939">
<edge COLOR="#ff00ff"/>
<richcontent TYPE="DETAILS">

<html>
  <head>
    
  </head>
  <body>
    <p>
      数字编号起到标识作用,标识协议
    </p>
    <p>
      建议自定义端口时大于1024,端口的极限为65535
    </p>
    <p>
      1024以内的端口常为服务默认端口使用,使用1024以上端口是为了避免端口冲突
    </p>
  </body>
</html>
</richcontent>
<node TEXT="各协议默认端口" ID="ID_1737741693" CREATED="1606221211998" MODIFIED="1606275885283"><richcontent TYPE="DETAILS">

<html>
  <head>
    
  </head>
  <body>
    <p>
      http, 80
    </p>
    <p>
      DNS, 53
    </p>
    <p>
      ssh, 22
    </p>
  </body>
</html>
</richcontent>
</node>
</node>
<node TEXT="hosts" POSITION="right" ID="ID_401530168" CREATED="1605629357104" MODIFIED="1605629413366">
<edge COLOR="#00ffff"/>
<richcontent TYPE="DETAILS">

<html>
  <head>
    
  </head>
  <body>
    <p>
      /etc/hosts文件直接解析域名,只为本机解析
    </p>
    <p>
      格式
    </p>
    <p>
      IP地址&nbsp;&nbsp;&nbsp;&nbsp;域名&nbsp;&nbsp;域名&nbsp;&nbsp;...
    </p>
  </body>
</html>
</richcontent>
</node>
</node>
</map>
